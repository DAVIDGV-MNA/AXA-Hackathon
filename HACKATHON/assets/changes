<script>
async function callCreateAssessmentStart(user_request_text){
  const res = await fetch("http://127.0.0.1:8000/create/assessment", {
    method: "POST",
    headers: {"Content-Type":"application/json"},
    body: JSON.stringify({ user_request_text, max_q: 10 })
  });
  const data = await res.json();
  if (!res.ok) throw new Error(data?.detail || "Assessment error");
  return data.questions || [];
}

async function callCreateVerify(user_request_text, answers){
  const res = await fetch("http://127.0.0.1:8000/create/verify", {
    method: "POST",
    headers: {"Content-Type":"application/json"},
    body: JSON.stringify({ user_request_text, answers, threshold: 0.82, top_k: 8 })
  });
  const data = await res.json();
  if (!res.ok) throw new Error(data?.detail || "Verify error");
  return data;
}
</script>