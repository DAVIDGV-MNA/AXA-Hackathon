const fs = require("fs");
const { Agent, setGlobalDispatcher } = require("undici"); // Node 20's fetch uses undici

const caPath = "C:\\certs\\axa-chain.pem";              // path to your combined CA
const ca = fs.readFileSync(caPath, "utf8");

// Make this CA trusted for all fetch() calls
setGlobalDispatcher(new Agent({ connect: { ca } }));
