<script>
async function callCreateStep(user_request_text, answers){
  const res = await fetch("http://127.0.0.1:8001/create/step", {
    method: "POST",
    headers: {"Content-Type":"application/json"},
    body: JSON.stringify({
      user_request_text,
      answers,
      threshold: 0.82,
      top_k: 8,
      max_q: 6
    })
  });
  const data = await res.json().catch(()=> ({}));
  if (!res.ok) throw new Error(data?.detail || "Create step error");
  return data; // { action: 'ask'|'verify', questions?, result?, reason? }
}
</script>